<html>
<head>
	<style type="text/css">
		body {
			background: #FFAFBD; /* Fallback for old browsers */
			background: -webkit-linear-gradient(to left, #C9FFBF , #FFAFBD);
			background: linear-gradient(to left, #C9FFBF , #FFAFBD);
			font-family: sans-serif;
		}
		h1 { text-align: center; font-size: 2em; }
		h2 { font-size: 2.5em; text-align: right; margin-right: 10px; }
		p { font-size: 1.5em; text-align: right; margin-right: 10px; }
	</style>
	<script type="text/javascript" src="https://cdn.socket.io/socket.io-1.3.7.js"></script>
</head>
<body>
	<h1>ROV Control V1</h1>
	<hr>
	<script type="text/javascript">
		var socket = io.connect('http://ssmbp.local:8081');
		socket.on('connect', function () {socket.send('Connection established')});
		if (window.DeviceMotionEvent==undefined) {
		}

		alert('Press OK to begin.')

		window.ondevicemotion = function(event) {
		  ax = event.accelerationIncludingGravity.x
		  ay = event.accelerationIncludingGravity.y
		  az = event.accelerationIncludingGravity.z
		  rotation = event.rotationRate;
		  if (rotation != null) {
		    arAlpha = Math.round(rotation.alpha);
		    arBeta = Math.round(rotation.beta);
		    arGamma = Math.round(rotation.gamma);
		  };
		};

		window.ondeviceorientation = function(event) {
		  alpha = Math.round(event.alpha);
		  beta = Math.round(event.beta);
		  gamma = Math.round(event.gamma);
		  document.getElementById("alpha").innerHTML = "Alpha (X): " + alpha;
		  document.getElementById("beta").innerHTML = "Beta (Y): " + beta;
		  document.getElementById("gamma").innerHTML = "Gamma (Z): " + gamma;
		  var jsonValues = '{ "values" : [' +
			'{ "alpha":' + alpha + ' },' +
			'{ "beta":' + beta + ' },' +
			'{ "gamma":' + gamma + ' } ]}';
		  var values = 'Alpha: ' + alpha + '  |  Beta: ' + beta + '  |  Gamma: ' + gamma;
		  console.log(values);
		  socket.send(jsonValues);
		};
	</script>
	<h2 id="alpha"></h2>
	<h2 id="beta"></h2>
	<h2 id="gamma"></h2>
	<hr>
	<p>This is intended as a front end control for the ROV. It grabs your iOS device's gyroscope data through javascript, rounds it, and prints it to your screen.</p>

	<a href="advanced/index.html"><p>View advanced axises</p></a>
</body>
</html>