<html>
<head>
	<style type="text/css">
		body {
			background: #FFAFBD; /* Fallback for old browsers */
			background: -webkit-linear-gradient(to left, #C9FFBF , #FFAFBD);
			background: linear-gradient(to left, #C9FFBF , #FFAFBD);
			font-family: sans-serif;
		}
		h1 { text-align: center; font-size: 2.5em; }
		h2 { font-size: 2em; text-align: right; margin-right: 10px; }
		p { font-size: 1.5em; text-align: right; margin-right: 10px; }
		.box {
			width: 30%;
			height: auto;
			margin: 10px;
			padding-bottom: 2%;
			display: inline-block;
			border-radius: 30px;
			border: 2px solid #555;
			text-align: center;
			position: relative;
		}
		span { font-size: 2em; }
	</style>
	<script type="text/javascript" src="socket.io-1.3.7.js"></script>
</head>
<body>
	<h1>ROV Control</h1>
	<hr>
	<script type="text/javascript">
		var socket = io.connect('http://ssmbp.local:8081');
		if (window.DeviceMotionEvent==undefined) {
		}

		window.ondevicemotion = function(event) {
		  ax = event.accelerationIncludingGravity.x
		  ay = event.accelerationIncludingGravity.y
		  az = event.accelerationIncludingGravity.z
		  rotation = event.rotationRate;
		  if (rotation != null) {
		    arAlpha = Math.round(rotation.alpha);
		    arBeta = Math.round(rotation.beta);
		    arGamma = Math.round(rotation.gamma);
		  };
		};

		window.ondeviceorientation = function(event) {
		  alpha = Math.round(event.alpha);
		  beta = Math.round(event.beta);
		  gamma = Math.round(event.gamma);
		  document.getElementById("alpha").innerHTML = alpha;
		  document.getElementById("beta").innerHTML = beta;
		  document.getElementById("gamma").innerHTML = gamma;
		  var jsonValues = { alpha: alpha, beta: beta, gamma: gamma};
		  var jsonValues = JSON.stringify(jsonValues);
		  console.log(jsonValues);
		  socket.send(jsonValues);
		};
	</script>
	<!-- <h2 id="alpha"></h2>
	<h2 id="beta"></h2>
	<h2 id="gamma"></h2> -->
	<div class="box"><h1>Alpha:</h1><span id="alpha"></span></div>
	<div class="box"><h1>Beta:</h1><span id="beta"></span></div>
	<div class="box"><h1>Gamma:</h1><span id="gamma"></span></div>
	<hr>
	<p>v2.0</p>
</body>
</html>